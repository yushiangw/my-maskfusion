

[install]
sudo apt-get install libjpeg9-dev


[klg to imgs]
./convert_klg  -n -a -s  -i /ysmedia/sync/dataset/cofusion/teddy-handover.klg  -o  /ysmedia/sync/dataset/cofusion/teddy-handover

./convert_klg  -n -a -s  -i /ysmedia/sync/dataset/cofusion2/place-items.klg  -o  /ysmedia/sync/dataset/cofusion2/place-items

./convert_klg  -n -a -s   -i /ysmedia/sync/dataset/cofusion2/sliding-clock.klg  -o  /ysmedia/sync/dataset/cofusion2/sliding-clock


[maskrcnn]
mkdir  /ysmedia/sync/dataset/cofusion2/teddy-handover/masks 
python offline_runner.py -i /ysmedia/sync/dataset/cofusion2/teddy-handover -o /ysmedia/sync/dataset/cofusion2/teddy-handover/masks --filter teddy_bear

mkdir  /ysmedia/sync/dataset/cofusion2/place-items/masks 
python offline_runner.py -i /ysmedia/sync/dataset/cofusion2/place-items -o /ysmedia/sync/dataset/cofusion2/place-items/masks --filter bottle person

mkdir  /ysmedia/sync/dataset/cofusion2/sliding-clock/masks 
python offline_runner.py -i /ysmedia/sync/dataset/cofusion2/sliding-clock -o /ysmedia/sync/dataset/cofusion2/sliding-clock/masks --filter clock


/ysmedia/mycode/maskfusion/Core/Segmentation/MaskRCNN
/ysmedia/mydata/real_data_small/raw_refusion_02072020/input_target/2020_0304_v2_f4_8 
/ysmedia/mydata/real_data_small/raw_refusion_02072020/input_target/2020_0304_v2_f4_8/masks

python offline_runner.py -i /ysmedia/mydata/real_data_small/raw_refusion_02072020/input_target/2020_0304_v2_f4_8  -o  /ysmedia/mydata/real_data_small/raw_refusion_02072020/input_target/2020_0304_v2_f4_8/masks --filter sofa chair person


[RUN MaskFusion]

./MaskFusion  -basedir /ysmedia/sync/dataset/cofusion2/teddy-handover -dir  .  -maskdir masks  -depthprefix Depth  -colorprefix Color -exportdir  maskfuion_res


[our]
# X:\mydata\real_data_small\raw\ds2_chair_1_mod

./MaskFusion  -basedir /ysmedia/sync/mydata/real_data_small/raw/ds2_chair_1_mod  -dir . -maskdir masks/ -depthprefix Depth -colorprefix Color  -cal calibration.txt  -exportdir  maskfuion_res    -keep 

./MaskFusion  -basedir /ysmedia/sync/mydata/real_data_small/raw/ds2_chair_2_mod  -dir . -maskdir masks -depthprefix Depth -colorprefix Color  -cal calibration.txt  -exportdir  maskfuion_res    -keep 

./MaskFusion  -basedir /ysmedia/sync/mydata/real_data_small/raw/ds2_chair_3_mod  -dir . -maskdir masks -depthprefix Depth -colorprefix Color  -cal calibration.txt  -exportdir  maskfuion_res    -keep 


./MaskFusion  -basedir /ysmedia/sync/mydata/real_data_small/raw/ds2_human_chair_1_mod  -dir . -maskdir masks -depthprefix Depth -colorprefix Color  -cal calibration.txt  -exportdir  maskfuion_res   -keep 


./MaskFusion  -basedir /ysmedia/sync/mydata/real_data_small/raw/ds2_human_chair_2_mod  -dir . -maskdir masks -depthprefix Depth -colorprefix Color  -cal calibration.txt  -exportdir  maskfuion_res   -keep 


./MaskFusion  -basedir /ysmedia/sync/mydata/real_data_small/raw/ds2_human_chair_2_mod  -dir . -maskdir masks -depthprefix Depth -colorprefix Color  -cal calibration.txt  -exportdir  maskfuion_res   -keep 

-cal calibration.txt





[calibration]
    // Asus is default camera (might change later)
    if(Parse::get().arg(argc, argv, "-v2", tmpString) > -1){
        Resolution::setResolution(512, 424);
        Intrinsics::setIntrinics(528, 528, 256, 212);
    } else if(Parse::get().arg(argc, argv, "-tum3", tmpString) > -1) {
        Resolution::setResolution(640, 480);
        Intrinsics::setIntrinics(535.4, 539.2, 320.1, 247.6);
    } else {
        Resolution::setResolution(640, 480);
        Intrinsics::setIntrinics(528, 528, 320, 240);
    }
    
    
(python-environment) 
root@c784df05bb4b:/ysmedia/sync/mycode/dev-project/maskfusion/dataset-tools/build/bin#



./build/GUI/CoFusion  -dir rgb  -depthdir depth  -cal calibration.txt  -basedir /ysmedia/mydata/real_data_small/raw_refusion_02072020/input/0210_human_box_move_office_mod_1 -exportdir /ysmedia/mydata/real_data_small/raw_cofusion/results/0210_human_box_move_office_mod_1  -q -keep -nm -ev -el -em -ep -d 6 -run -use_dense_pose 


./MaskFusion  -basedir /ysmedia/mydata/real_data_small/raw_maskfusion_debug/ds2_human_chair_2_mod  -dir . -maskdir masks -depthprefix Depth -colorprefix Color  -cal calibration.txt  -exportdir  maskfuion_res   -keep 







